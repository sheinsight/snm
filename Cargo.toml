[workspace]
members = [
  "crates/cli",
  "crates/snm_pm",
  "crates/snm_npmrc",
  "crates/snm_config",
  "crates/snm_utils",
  "crates/snm_node",
  "crates/snm_download_builder",
  "crates/snm_shim",
  "crates/dev-tools",
  "e2e",
  "demo",
]

resolver = "2"


[profile.release]
codegen-units = 1
debug         = 2
lto           = true
opt-level     = "s"
strip         = "none"


[workspace.metadata.cargo-llvm-cov]
ignore-filename-regex = [".*\\.cargo/registry/src/.*", ".*target/.*", ".*ordered-multimap-0.6.0/.*"]

[workspace.dependencies]
anyhow         = "1.0.91"
chrono         = "0.4.39"
dialoguer      = "0.11.0"
dirs           = "5.0.1"
duct           = "0.13.7"
dunce          = "1.0.5"
fs_extra       = "1.3.0"
insta          = "1.36.1"
remove_dir_all = "1.0.0"
reqwest        = "0.12.12"
semver         = "1.0.24"
serde          = "1.0.217"
serde_json     = "1.0.135"
textwrap       = "0.16.0"
tokio          = "1.43.0"
wait-timeout   = "0.2.0"
wiremock       = "0.6.2"

## 日志
tracing            = "0.1.41"
tracing-subscriber = "0.3.19"

which = "7.0.1"

test-context = "0.3.0"
